<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
	<input type="radio" id="one" value="red" name="col"> 빨강색
	<input type="radio" id="two" value="green" name="col"> 녹색
	<input type="radio" id="three" value="blue" name="col"> 파랑색
	<input type="radio" id="four" value="silver" name="col"> 회색
	<br>
	<canvas id="mycanvas" width="640" height="400" style="border: 2px solid pink"></canvas>
	<div id="state"></div>
	<!-- 4개 라디오버튼 중 1개 선택하면 선택 색상 이름으로 사각형 2개 그린다.
	선 / 바탕색 - 캔버스 내부 왼쪽 오른쪽 배치 -->
	<script>
		var ctx = document.getElementById("mycanvas").getContext("2d");
		var radio = document.getElementsByName("col");

		window.onload = function() {
			/*
			// 전역변수 i의 값을 scope가 Closure 내부로 한정된 지역변수 index에 새로 담기
			for (i in radio) {
				(function(index) {
					radio[i].onclick = function() {
						ctx.clearRect(0, 0, 640, 400);
						ctx.strokeStyle = radio[index].value;
						ctx.strokeRect(80, 150, 200, 100);
						ctx.fillStyle = radio[index].value;
						ctx.fillRect(360, 150, 200, 100);
					}
				})(i);
			}			for (i in radio) {
				radio[i].onclick = (function(index) {
					return function() {
						ctx.clearRect(0, 0, 640, 400);
						ctx.strokeStyle = radio[index].value;
						ctx.strokeRect(80, 150, 200, 100);
						ctx.fillStyle = radio[index].value;
						ctx.fillRect(360, 150, 200, 100);
					}
				})(i);
			}
			 */

			// i를 let으로 선언하여 scope를 블록 내부로 한정하기
			for (let i in radio) {
				radio[i].onclick = function() {
					ctx.clearRect(0, 0, 640, 400);
					ctx.strokeStyle = radio[i].value;
					ctx.strokeRect(80, 150, 200, 100);
					ctx.fillStyle = radio[i].value;
					ctx.fillRect(360, 150, 200, 100);
				}
			}
		}
	</script>
</body>
</html>